apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "openclaw.name" . }}
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "openclaw.labels" . | nindent 4 }}
data:
  {{- range $key, $value := .Values.env }}
  {{ $key }}: {{ $value | quote }}
  {{- end }}
  openclaw.json: |
    {
      "gateway": {
        "mode": "local"
      },
      "browser": {
        "enabled": true,
        "noSandbox": {{ .Values.browser.noSandbox }}
      },
      "cron": {
        "enabled": true
      },
      "commands": {
        "native": "auto",
        "nativeSkills": "auto"
      },
      "plugins": {
        "entries": {
          "whatsapp": { "enabled": true },
          "telegram": { "enabled": true }
        }
      },
      "agents": {
        "defaults": {
          "model": {
            "primary": "openrouter/openai/gpt-5-nano"
          }
        }
      }
    }
